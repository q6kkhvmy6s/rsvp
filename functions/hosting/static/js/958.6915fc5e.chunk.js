(self.webpackChunkreservaciones_admin=self.webpackChunkreservaciones_admin||[]).push([[958],{1497:(e,a,r)=>{"use strict";var s=r(3218);function t(){}function n(){}n.resetWarningCache=t,e.exports=function(){function e(e,a,r,t,n,i){if(i!==s){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function a(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:a,element:e,elementType:e,instanceOf:a,node:e,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return r.PropTypes=r,r}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4063:(e,a,r)=>{"use strict";r.d(a,{A:()=>u});var s=r(2555),t=r(45),n=r(8139),i=r.n(n),c=r(5043),o=r(7852),l=r(579);const d=["bsPrefix","bg","pill","text","className","as"],m=c.forwardRef((e,a)=>{let{bsPrefix:r,bg:n="primary",pill:c=!1,text:m,className:u,as:p="span"}=e,b=(0,t.A)(e,d);const f=(0,o.oU)(r,"badge");return(0,l.jsx)(p,(0,s.A)((0,s.A)({ref:a},b),{},{className:i()(u,f,c&&"rounded-pill",m&&"text-".concat(m),n&&"bg-".concat(n))}))});m.displayName="Badge";const u=m},4140:(e,a,r)=>{"use strict";r.d(a,{Am:()=>i});var s=r(5043),t=r(579);const n=["as","disabled"];function i(e){let{tagName:a,disabled:r,href:s,target:t,rel:n,role:i,onClick:c,tabIndex:o=0,type:l}=e;a||(a=null!=s||null!=t||null!=n?"a":"button");const d={tagName:a};if("button"===a)return[{type:l||"button",disabled:r},d];const m=e=>{(r||"a"===a&&function(e){return!e||"#"===e.trim()}(s))&&e.preventDefault(),r?e.stopPropagation():null==c||c(e)};return"a"===a&&(s||(s="#"),r&&(s=void 0)),[{role:null!=i?i:"button",disabled:void 0,tabIndex:r?void 0:o,href:s,target:"a"===a?t:void 0,"aria-disabled":r||void 0,rel:"a"===a?n:void 0,onClick:m,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),m(e))}},d]}const c=s.forwardRef((e,a)=>{let{as:r,disabled:s}=e,c=function(e,a){if(null==e)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)>=0)continue;r[s]=e[s]}return r}(e,n);const[o,{tagName:l}]=i(Object.assign({tagName:r,disabled:s},c));return(0,t.jsx)(l,Object.assign({},c,o,{ref:a}))});c.displayName="Button"},4196:(e,a,r)=>{"use strict";r.d(a,{A:()=>u});var s=r(2555),t=r(45),n=r(8139),i=r.n(n),c=r(5043),o=r(7852),l=r(579);const d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],m=c.forwardRef((e,a)=>{let{bsPrefix:r,className:n,striped:c,bordered:m,borderless:u,hover:p,size:b,variant:f,responsive:h}=e,x=(0,t.A)(e,d);const v=(0,o.oU)(r,"table"),y=i()(n,v,f&&"".concat(v,"-").concat(f),b&&"".concat(v,"-").concat(b),c&&"".concat(v,"-").concat("string"===typeof c?"striped-".concat(c):"striped"),m&&"".concat(v,"-bordered"),u&&"".concat(v,"-borderless"),p&&"".concat(v,"-hover")),g=(0,l.jsx)("table",(0,s.A)((0,s.A)({},x),{},{className:y,ref:a}));if(h){let e="".concat(v,"-responsive");return"string"===typeof h&&(e="".concat(e,"-").concat(h)),(0,l.jsx)("div",{className:e,children:g})}return g});m.displayName="Table";const u=m},4282:(e,a,r)=>{"use strict";r.d(a,{A:()=>p});var s=r(2555),t=r(45),n=r(8139),i=r.n(n),c=r(5043),o=r(4140),l=r(7852),d=r(579);const m=["as","bsPrefix","variant","size","active","disabled","className"],u=c.forwardRef((e,a)=>{let{as:r,bsPrefix:n,variant:c="primary",size:u,active:p=!1,disabled:b=!1,className:f}=e,h=(0,t.A)(e,m);const x=(0,l.oU)(n,"btn"),[v,{tagName:y}]=(0,o.Am)((0,s.A)({tagName:r,disabled:b},h)),g=y;return(0,d.jsx)(g,(0,s.A)((0,s.A)((0,s.A)({},v),h),{},{ref:a,disabled:b,className:i()(f,x,p&&"active",c&&"".concat(x,"-").concat(c),u&&"".concat(x,"-").concat(u),h.href&&b&&"disabled")}))});u.displayName="Button";const p=u},5173:(e,a,r)=>{e.exports=r(1497)()},5360:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>h});var s=r(2555),t=r(5043),n=r(6509),i=r(4063),c=r(4282),o=r(3519),l=r(7417),d=r(4196),m=r(196),u=r(6667),p=r(5016),b=r(8163),f=r(579);function h(){const[e,a]=(0,t.useState)([]),[r,h]=(0,t.useState)(!0),[x,v]=(0,t.useState)(""),{userProfile:y}=(0,p.A)(),g=(0,b.Zp)();(0,t.useEffect)(()=>{if(y&&"admin"!==y.role)return void g("/");y&&(async()=>{try{const e=(await(0,u.GG)((0,u.rJ)(m.db,"users"))).docs.map(e=>(0,s.A)({id:e.id},e.data()));a(e)}catch(e){console.error("Error fetching users:",e),v("Failed to load users.")}finally{h(!1)}})()},[y,g]);const j=async(r,t)=>{try{await(0,u.mZ)((0,u.H9)(m.db,"users",r),{role:t}),a(e.map(e=>e.id===r?(0,s.A)((0,s.A)({},e),{},{role:t}):e))}catch(n){console.error("Error updating role:",n),v("Failed to update user role.")}};return r?(0,f.jsx)(o.A,{className:"text-center mt-5",children:(0,f.jsx)(l.A,{animation:"border"})}):(0,f.jsxs)(o.A,{className:"my-5",children:[(0,f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,f.jsx)("h2",{className:"fw-bold",children:"User Management"}),(0,f.jsx)(c.A,{variant:"outline-secondary",onClick:()=>g("/"),children:"Back to Dashboard"})]}),x&&(0,f.jsx)(n.A,{variant:"danger",children:x}),(0,f.jsx)("div",{className:"glass-card p-4",children:(0,f.jsxs)(d.A,{responsive:!0,hover:!0,className:"mb-0",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:"Username"}),(0,f.jsx)("th",{children:"Email"}),(0,f.jsx)("th",{children:"Role"}),(0,f.jsx)("th",{children:"Actions"})]})}),(0,f.jsx)("tbody",{children:e.map(e=>(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"align-middle",children:e.username}),(0,f.jsx)("td",{className:"align-middle",children:e.email}),(0,f.jsx)("td",{className:"align-middle",children:(0,f.jsx)(i.A,{bg:"admin"===e.role?"primary":"secondary",children:e.role})}),(0,f.jsx)("td",{className:"align-middle",children:"admin"!==e.role?(0,f.jsx)(c.A,{variant:"outline-primary",size:"sm",onClick:()=>j(e.id,"admin"),children:"Make Admin"}):(0,f.jsx)(c.A,{variant:"outline-secondary",size:"sm",onClick:()=>j(e.id,"promoter"),disabled:e.id===y.uid,children:"Make Promoter"})})]},e.id))})]})})]})}}}]);
//# sourceMappingURL=958.6915fc5e.chunk.js.map