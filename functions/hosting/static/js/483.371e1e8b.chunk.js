"use strict";(self.webpackChunkreservaciones_admin=self.webpackChunkreservaciones_admin||[]).push([[483],{5483:(e,s,a)=>{a.r(s),a.d(s,{default:()=>j});var r=a(5043),n=a(6509),t=a(4282),c=a(8258),l=a(3519),d=a(6522),o=a(9566),i=a(5016),u=a(8163),h=a(4144),g=a(6667),x=a(196),A=a(579);function j(){const{currentUser:e,logout:s}=(0,i.A)(),a=(0,u.Zp)(),[j,m]=(0,r.useState)(""),[y,b]=(0,r.useState)(""),[p,w]=(0,r.useState)(!1),[v,C]=(0,r.useState)(""),[f,k]=(0,r.useState)(""),[N,S]=(0,r.useState)(!1);return(0,A.jsxs)(l.A,{className:"my-4",style:{maxWidth:"600px"},children:[(0,A.jsx)("h2",{className:"mb-4",children:"Account Settings"}),v&&(0,A.jsx)(n.A,{variant:"danger",children:v}),f&&(0,A.jsx)(n.A,{variant:"success",children:f}),(0,A.jsx)(c.A,{className:"glass-card border-0 mb-4",children:(0,A.jsxs)(c.A.Body,{children:[(0,A.jsx)("h4",{className:"mb-3",children:"Change Password"}),(0,A.jsxs)(d.A,{onSubmit:async s=>{if(s.preventDefault(),j!==y)return C("Passwords do not match");try{C(""),k(""),w(!0),await(0,h.f3)(e,j),k("Password updated successfully"),m(""),b("")}catch(a){"auth/requires-recent-login"===a.code?C("For security, please log out and log back in to change your password."):C("Failed to update password: "+a.message)}finally{w(!1)}},children:[(0,A.jsxs)(d.A.Group,{className:"mb-3",children:[(0,A.jsx)(d.A.Label,{children:"New Password"}),(0,A.jsx)(d.A.Control,{type:"password",value:j,onChange:e=>m(e.target.value),required:!0,minLength:6})]}),(0,A.jsxs)(d.A.Group,{className:"mb-3",children:[(0,A.jsx)(d.A.Label,{children:"Confirm New Password"}),(0,A.jsx)(d.A.Control,{type:"password",value:y,onChange:e=>b(e.target.value),required:!0,minLength:6})]}),(0,A.jsx)(t.A,{disabled:p,type:"submit",variant:"primary",children:"Update Password"})]})]})}),(0,A.jsx)(c.A,{className:"glass-card border-0 border-danger",children:(0,A.jsxs)(c.A.Body,{children:[(0,A.jsx)("h4",{className:"text-danger mb-3",children:"Danger Zone"}),(0,A.jsx)("p",{children:"Once you delete your account, there is no going back. Please be certain."}),(0,A.jsx)(t.A,{variant:"danger",onClick:()=>S(!0),disabled:p,children:"Delete Account"})]})}),(0,A.jsxs)(o.A,{show:N,onHide:()=>S(!1),children:[(0,A.jsx)(o.A.Header,{closeButton:!0,children:(0,A.jsx)(o.A.Title,{children:"Delete Account"})}),(0,A.jsx)(o.A.Body,{children:"Are you sure you want to delete your account? This action cannot be undone."}),(0,A.jsxs)(o.A.Footer,{children:[(0,A.jsx)(t.A,{variant:"secondary",onClick:()=>S(!1),children:"Cancel"}),(0,A.jsx)(t.A,{variant:"danger",onClick:async()=>{try{C(""),w(!0),await(0,g.kd)((0,g.H9)(x.db,"users",e.uid)),await(0,h.hG)(e),a("/login")}catch(s){"auth/requires-recent-login"===s.code?(C("For security, please log out and log back in to delete your account."),S(!1)):(C("Failed to delete account: "+s.message),S(!1))}finally{w(!1)}},disabled:p,children:p?"Deleting...":"Delete Forever"})]})]})]})}}}]);
//# sourceMappingURL=483.371e1e8b.chunk.js.map